<!DOCTYPE html>
<html>
<head>
    <title>Shopping cart</title>

    <script src="/sys/object.observe/dist/object-observe.min.js"></script>
    <script src="/sys/array.observe/array-observe.min.js"></script>

    <script src="/sys/webcomponentsjs/webcomponents.js"></script>
    <script>
        window.Polymer = window.Polymer || {};
        window.Polymer.dom = "shadow";
    </script>
    <link rel="import" href="/sys/polymer/polymer.html">

    <!-- Import Starcounter specific components -->
    <link rel="import" href="/sys/starcounter.html">
    <link rel="import" href="/sys/starcounter-include/starcounter-include.html">
    <link rel="import" href="/sys/starcounter-debug-aid/src/starcounter-debug-aid.html">
    <link rel="import" href="/sys/dom-bind-notifier/dom-bind-notifier.html">

    <link rel="import" href="/Playground/ct-list.html" />
</head>
<body>
    <template is="dom-bind" id="root">
        <fieldset>
            <legend>Text</legend>
            <input type="text" value="{{model.Text$::change}}" />
        </fieldset>
        <fieldset>
            <legend>Button</legend>
            <button type="button" value="{{model.Button$::click}}" onmousedown="++this.value">Click me</button>
        </fieldset>
        <fieldset>
            <legend>Table</legend>
            <table>
                <thead>
                    <tr>
                        <th>
                            <button type="button" value="{{model.AddItem$::click}}" onmousedown="++this.value;">Add item</button>
                            <button type="button" value="{{model.RemoveItem$::click}}" onmousedown="++this.value;">Remove first item</button>
                            <button type="button" value="{{model.AddAndRemoveItem$::click}}" onmousedown="++this.value;">Add and remove item</button>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <template is="dom-repeat" items="{{model.Items}}">
                        <tr>
                            <td>{{item.Name}}</td>
                        </tr>
                    </template>
                </tbody>
            </table>
        </fieldset>
        <fieldset>
            <legend>List</legend>
            <ul>
                <template is="dom-repeat" items="{{model.Items}}">
                    <li>{{item.Name}}</li>
                </template>
            </ul>
        </fieldset>
        <fieldset>
            <legend>Custom element</legend>
            <ct-list list-items="{{model.Items}}"></ct-list>
        </fieldset>
        <p>{{model.MessageText}}</p>
        <p>{{model.MessageButton}}</p>
        <fieldset>
            <legend>Sub page</legend>
            <starcounter-include partial="{{model.SubPage}}"></starcounter-include>
            <template is="dom-if" if="{{!model.SubPage.Html}}">
                <p>The sub page is not loaded</p>
            </template>
            <p>
                <button type="button" value="{{model.LoadSubPage$::click}}" onmouseup="++this.value;" disabled="{{model.LoadSubPage$}}">Load sub page</button>
                <button type="button" value="{{model.UnloadSubPage$::click}}" onmouseup="++this.value;" disabled="{{model.UnloadSubPage$}}">Unload sub page</button>
            </p>
        </fieldset>
        <fieldset>
            <legend>Link</legend>
            <a href="/playground">Reload current model</a>
            <a href="/playground/index">Change current model</a>
        </fieldset>
        <dom-bind-notifier observed-object="{{model}}" path="model" deep id="root-notifier"></dom-bind-notifier>
    </template>
    <script>
        (function () {
            var template = (document._currentScript || document.currentScript).previousElementSibling;
        })();
    </script>
    <puppet-client use-web-socket="false" usewebsocket="false" ref="root"></puppet-client>
    <starcounter-debug-aid></starcounter-debug-aid>
</body>
</html>
